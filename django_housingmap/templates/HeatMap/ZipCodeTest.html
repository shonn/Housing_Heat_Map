<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
	<style type="text/css">
		html { height: 100% }
		body {height: 100%; margin: 0; padding: 0 }
		#map-canvas { height: 90%; width:100%;}
		#debug{height: 10%; width:100%;}
	</style>
	<script type="text/javascript" 
		src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA_JEN1JLQ2C341o4pAuyd04GSYd-Q89Lg&libraries=drawing&sensor=false">
	</script>
	<script type="text/javascript"
		src="/home/GeoJSON.js">
	</script>
	<script type="text/javascript">
	function initialize() {		
		//Map Information
		  var myLatLng = new google.maps.LatLng(37.42291810, -122.08542120);
		  var mapOptions = {
		    zoom: 15,
		    center: myLatLng,
		    mapTypeId: google.maps.MapTypeId.TERRAIN
		  };

		  var map = new google.maps.Map(document.getElementById("map-canvas"),
		      mapOptions);
		
		var googleMapsVector = null;
		
		// asynchronous json request      
		var xhr = new XMLHttpRequest();
		xhr.open('GET', 'http://localhost:8080/home/getHousingGrowthinBoundingbox.json', true);
		xhr.onload = function() {
			var result = JSON.parse(this.reponseText);
  			var shapeOptions = {
  				strokeColor: '#CCC',
  				strokeWeight: 1
			};
			
			googleMapsVector = new GeoJSON(result, shapeOptions);
			
			document.getElementById('debug').innerHTML = googleMapsVector;
		};
		xhr.send();
		
		if(googleMapsVector)
			googleMapsVector.setMap(map);
		      		  
		  // var geocoder = new google.maps.GeoCoder();
		  // two zipcodes 95124, 95125

		  // Construct the polygon
		  // Note that we don't specify an array or arrays, but instead just
		  // a simple array of LatLngs in the paths property
		  var bermudaTriangle = new google.maps.Polygon({
		    paths: [new google.maps.LatLng(37.42426708029149, -122.0840722197085),
				    new google.maps.LatLng(37.42426708029149, -122.0867701802915),
				    new google.maps.LatLng(37.42156911970850, -122.0867701802915),
				    new google.maps.LatLng(37.42156911970850, -122.0840722197085)],
		    strokeColor: "#FF0000",
		    strokeOpacity: 0.8,
		    strokeWeight: 0,
		    fillColor: "#FF0000",
		    fillOpacity: 0.35
		  });
		  
		  var Rectangle2 = new google.maps.Polygon({
			  paths: [new google.maps.LatLng(37.426,-122.084),
			          new google.maps.LatLng(37.426,-122.085),
			          new google.maps.LatLng(37.422,-122.085)],
			  strokeColor:"#00FF00",
			  strokeOpacity:0.8,
			  strokeWeight:0,
			  fillColor:"#00FF00",
			  fillOpacity:0.35
		  });

		  bermudaTriangle.setMap(map);
		  Rectangle2.setMap(map);
		  	
//		  google.maps.event.addListener(map, 'bounds_changed', function() {
//        	 document.getElementById("debug").innerHTML = map.getBounds();
//      		});
		}
		google.maps.event.addDomListener(window,'load',initialize);
	</script>
</head>
<body>
		<div id="debug">
		</div>
		<div id="map-canvas">this is the map</div>
</body>
</html>