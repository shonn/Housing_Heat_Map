//to find percentage change ((yearx2-yearx1)/yearx1) * 100 based on old and new years

//user selects old year and new year, query computes avg home prices PER zipcode and returns percentage change between given years for each zipcode

select (h2.home_price - h1.home_price)/h1.home_price 
  from house_data as h1 
  JOIN 
  house_data as h2 on h1.zipcode = h2.zipcode
    and h1.date like %yearx1
    and h2.date like %yearx2;


//user selects base year and % growth since given year
% find zips based on percentage change in house prices
select avg(home_price) from house_data where zipcode = xxxxx


select zipcode, (h2.home_price - h1.home_price)/h1.home_price as change where change = pct_change_given from house_data as h1 
JOIN 
house_data as h2 on h1.zipcode = h2.zipcode
and h1.date like %yearx1; 
